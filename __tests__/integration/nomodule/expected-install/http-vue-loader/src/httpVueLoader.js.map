{"version":3,"file":"httpVueLoader.js","sources":["../../../node_modules/http-vue-loader/src/httpVueLoader.js"],"sourcesContent":["(function umd(root,factory){\r\n\tif(typeof module==='object' && typeof exports === 'object' )\r\n\t\tmodule.exports=factory()\r\n\telse if(typeof define==='function' && define.amd)\r\n\t\tdefine([],factory)\r\n\telse\r\n\t\troot.httpVueLoader=factory()\r\n})(this,function factory() {\r\n\t'use strict';\r\n\r\n\tvar scopeIndex = 0;\r\n\r\n\tStyleContext.prototype = {\r\n\r\n\t\twithBase: function(callback) {\r\n\r\n\t\t\tvar tmpBaseElt;\r\n\t\t\tif ( this.component.baseURI ) {\r\n\r\n\t\t\t\t// firefox and chrome need the <base> to be set while inserting or modifying <style> in a document.\r\n\t\t\t\ttmpBaseElt = document.createElement('base');\r\n\t\t\t\ttmpBaseElt.href = this.component.baseURI;\r\n\r\n\t\t\t\tvar headElt = this.component.getHead();\r\n\t\t\t\theadElt.insertBefore(tmpBaseElt, headElt.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\tcallback.call(this);\r\n\r\n\t\t\tif ( tmpBaseElt )\r\n\t\t\t\tthis.component.getHead().removeChild(tmpBaseElt);\r\n\t\t},\r\n\r\n\t\tscopeStyles: function(styleElt, scopeName) {\r\n\r\n\t\t\tfunction process() {\r\n\r\n\t\t\t\tvar sheet = styleElt.sheet;\r\n\t\t\t\tvar rules = sheet.cssRules;\r\n\r\n\t\t\t\tfor ( var i = 0; i < rules.length; ++i ) {\r\n\r\n\t\t\t\t\tvar rule = rules[i];\r\n\t\t\t\t\tif ( rule.type !== 1 )\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tvar scopedSelectors = [];\r\n\r\n\t\t\t\t\trule.selectorText.split(/\\s*,\\s*/).forEach(function(sel) {\r\n\r\n\t\t\t\t\t\tscopedSelectors.push(scopeName+' '+sel);\r\n\t\t\t\t\t\tvar segments = sel.match(/([^ :]+)(.+)?/);\r\n\t\t\t\t\t\tscopedSelectors.push(segments[1] + scopeName + (segments[2]||''));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar scopedRule = scopedSelectors.join(',') + rule.cssText.substr(rule.selectorText.length);\r\n\t\t\t\t\tsheet.deleteRule(i);\r\n\t\t\t\t\tsheet.insertRule(scopedRule, i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// firefox may fail sheet.cssRules with InvalidAccessError\r\n\t\t\t\tprocess();\r\n\t\t\t} catch (ex) {\r\n\r\n\t\t\t\tif ( ex instanceof DOMException && ex.code === DOMException.INVALID_ACCESS_ERR ) {\r\n\r\n\t\t\t\t\tstyleElt.sheet.disabled = true;\r\n\t\t\t\t\tstyleElt.addEventListener('load', function onStyleLoaded() {\r\n\r\n\t\t\t\t\t\tstyleElt.removeEventListener('load', onStyleLoaded);\r\n\r\n\t\t\t\t\t\t// firefox need this timeout otherwise we have to use document.importNode(style, true)\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\t\tprocess();\r\n\t\t\t\t\t\t\tstyleElt.sheet.disabled = false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcompile: function() {\r\n\r\n\t\t\tvar hasTemplate = this.template !== null;\r\n\r\n\t\t\tvar scoped = this.elt.hasAttribute('scoped');\r\n\r\n\t\t\tif ( scoped ) {\r\n\r\n\t\t\t\t// no template, no scopable style needed\r\n\t\t\t\tif ( !hasTemplate )\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// firefox does not tolerate this attribute\r\n\t\t\t\tthis.elt.removeAttribute('scoped');\r\n\t\t\t}\r\n\r\n\t\t\tthis.withBase(function() {\r\n\r\n\t\t\t\tthis.component.getHead().appendChild(this.elt);\r\n\t\t\t});\r\n\r\n\t\t\tif ( scoped )\r\n\t\t\t\tthis.scopeStyles(this.elt, '['+this.component.getScopeId()+']');\r\n\r\n\t\t\treturn Promise.resolve();\r\n\t\t},\r\n\r\n\t\tgetContent: function() {\r\n\r\n\t\t\treturn this.elt.textContent;\r\n\t\t},\r\n\r\n\t\tsetContent: function(content) {\r\n\r\n\t\t\tthis.withBase(function() {\r\n\r\n\t\t\t\tthis.elt.textContent = content;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tfunction StyleContext(component, elt) {\r\n\r\n\t\tthis.component = component;\r\n\t\tthis.elt = elt;\r\n\t}\r\n\r\n\r\n\tScriptContext.prototype = {\r\n\r\n\t\tgetContent: function() {\r\n\r\n\t\t\treturn this.elt.textContent;\r\n\t\t},\r\n\r\n\t\tsetContent: function(content) {\r\n\r\n\t\t\tthis.elt.textContent = content;\r\n\t\t},\r\n\r\n\t\tcompile: function(module) {\r\n\r\n\t\t\tvar childModuleRequire = function(childURL) {\r\n\r\n\t\t\t\treturn httpVueLoader.require(resolveURL(this.component.baseURI, childURL));\r\n\t\t\t}.bind(this);\r\n\r\n\t\t\tvar childLoader = function(childURL, childName) {\r\n\r\n\t\t\t\treturn httpVueLoader(resolveURL(this.component.baseURI, childURL), childName);\r\n\t\t\t}.bind(this);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tFunction('exports', 'require', 'httpVueLoader', 'module', this.getContent()).call(this.module.exports, this.module.exports, childModuleRequire, childLoader, this.module);\r\n\t\t\t} catch(ex) {\r\n\r\n\t\t\t\tif ( !('lineNumber' in ex) ) {\r\n\r\n\t\t\t\t\treturn Promise.reject(ex);\r\n\t\t\t\t}\r\n\t\t\t\tvar vueFileData = responseText.replace(/\\r?\\n/g, '\\n');\r\n\t\t\t\tvar lineNumber = vueFileData.substr(0, vueFileData.indexOf(script)).split('\\n').length + ex.lineNumber - 1;\r\n\t\t\t\tthrow new (ex.constructor)(ex.message, url, lineNumber);\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.resolve(this.module.exports)\r\n\t\t\t.then(httpVueLoader.scriptExportsHandler.bind(this))\r\n\t\t\t.then(function(exports) {\r\n\r\n\t\t\t\tthis.module.exports = exports;\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t};\r\n\r\n\tfunction ScriptContext(component, elt) {\r\n\r\n\t\tthis.component = component;\r\n\t\tthis.elt = elt;\r\n\t\tthis.module = { exports:{} };\r\n\t}\r\n\r\n\r\n\tTemplateContext.prototype = {\r\n\r\n\t\tgetContent: function() {\r\n\r\n\t\t\treturn this.elt.innerHTML;\r\n\t\t},\r\n\r\n\t\tsetContent: function(content) {\r\n\r\n\t\t\tthis.elt.innerHTML = content;\r\n\t\t},\r\n\r\n\t\tgetRootElt: function() {\r\n\r\n\t\t\tvar tplElt = this.elt.content || this.elt;\r\n\r\n\t\t\tif ( 'firstElementChild' in tplElt )\r\n\t\t\t\treturn tplElt.firstElementChild;\r\n\r\n\t\t\tfor ( tplElt = tplElt.firstChild; tplElt !== null; tplElt = tplElt.nextSibling )\r\n\t\t\t\tif ( tplElt.nodeType === Node.ELEMENT_NODE )\r\n\t\t\t\t\treturn tplElt;\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tcompile: function() {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t};\r\n\r\n\tfunction TemplateContext(component, elt) {\r\n\r\n\t\tthis.component = component;\r\n\t\tthis.elt = elt;\r\n\t}\r\n\r\n\r\n\r\n\tComponent.prototype = {\r\n\r\n\t\tgetHead: function() {\r\n\r\n\t\t\treturn document.head || document.getElementsByTagName('head')[0];\r\n\t\t},\r\n\r\n\t\tgetScopeId: function() {\r\n\r\n\t\t\tif ( this._scopeId === '' ) {\r\n\r\n\t\t\t\tthis._scopeId = 'data-s-' + (scopeIndex++).toString(36);\r\n\t\t\t\tthis.template.getRootElt().setAttribute(this._scopeId, '');\r\n\t\t\t}\r\n\t\t\treturn this._scopeId;\r\n\t\t},\r\n\r\n\t\tload: function(componentURL) {\r\n\r\n\t\t\treturn httpVueLoader.httpRequest(componentURL)\r\n\t\t\t.then(function(responseText) {\r\n\r\n\t\t\t\tthis.baseURI = componentURL.substr(0, componentURL.lastIndexOf('/')+1);\r\n\t\t\t\tvar doc = document.implementation.createHTMLDocument('');\r\n\r\n\t\t\t\t// IE requires the <base> to come with <style>\r\n\t\t\t\tdoc.body.innerHTML = (this.baseURI ? '<base href=\"'+this.baseURI+'\">' : '') + responseText;\r\n\r\n\t\t\t\tfor ( var it = doc.body.firstChild; it; it = it.nextSibling ) {\r\n\r\n\t\t\t\t\tswitch ( it.nodeName ) {\r\n\t\t\t\t\t\tcase 'TEMPLATE':\r\n\t\t\t\t\t\t\tthis.template = new TemplateContext(this, it);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'SCRIPT':\r\n\t\t\t\t\t\t\tthis.script = new ScriptContext(this, it);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'STYLE':\r\n\t\t\t\t\t\t\tthis.styles.push(new StyleContext(this, it));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}.bind(this));\r\n\t\t},\r\n\r\n\t\t_normalizeSection: function(eltCx) {\r\n\r\n\t\t\tvar p;\r\n\r\n\t\t\tif ( eltCx === null || !eltCx.elt.hasAttribute('src') ) {\r\n\r\n\t\t\t\tp = Promise.resolve(null);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tp = httpVueLoader.httpRequest(eltCx.elt.getAttribute('src'))\r\n\t\t\t\t.then(function(content) {\r\n\r\n\t\t\t\t\teltCx.elt.removeAttribute('src');\r\n\t\t\t\t\treturn content;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn p\r\n\t\t\t.then(function(content) {\r\n\r\n\t\t\t\tif ( eltCx !== null && eltCx.elt.hasAttribute('lang') ) {\r\n\r\n\t\t\t\t\tvar lang = eltCx.elt.getAttribute('lang');\r\n\t\t\t\t\teltCx.elt.removeAttribute('lang');\r\n\t\t\t\t\treturn httpVueLoader.langProcessor[lang.toLowerCase()].call(this, content === null ? eltCx.getContent() : content);\r\n\t\t\t\t}\r\n\t\t\t\treturn content;\r\n\t\t\t}.bind(this))\r\n\t\t\t.then(function(content) {\r\n\r\n\t\t\t\tif ( content !== null )\r\n\t\t\t\t\teltCx.setContent(content);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tnormalize: function() {\r\n\r\n\t\t\treturn Promise.all(Array.prototype.concat(\r\n\t\t\t\tthis._normalizeSection(this.template),\r\n\t\t\t\tthis._normalizeSection(this.script),\r\n\t\t\t\tthis.styles.map(this._normalizeSection)\r\n\t\t\t))\r\n\t\t\t.then(function() {\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}.bind(this));\r\n\t\t},\r\n\r\n\t\tcompile: function() {\r\n\r\n\t\t\treturn Promise.all(Array.prototype.concat(\r\n\t\t\t\tthis.template && this.template.compile(),\r\n\t\t\t\tthis.script && this.script.compile(),\r\n\t\t\t\tthis.styles.map(function(style) { return style.compile(); })\r\n\t\t\t))\r\n\t\t\t.then(function() {\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t};\r\n\r\n\tfunction Component(name) {\r\n\r\n\t\tthis.name = name;\r\n\t\tthis.template = null;\r\n\t\tthis.script = null;\r\n\t\tthis.styles = [];\r\n\t\tthis._scopeId = '';\r\n\t}\r\n\r\n\tfunction identity(value) {\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tfunction parseComponentURL(url) {\r\n\r\n\t\tvar comp = url.match(/(.*?)([^/]+?)\\/?(\\.vue)?(\\?.*|#.*|$)/);\r\n\t\treturn {\r\n\t\t\tname: comp[2],\r\n\t\t\turl: comp[1] + comp[2] + (comp[3] === undefined ? '/index.vue' : comp[3]) + comp[4]\r\n\t\t};\r\n\t}\r\n\r\n\tfunction resolveURL(baseURL, url) {\r\n\r\n\t\tif (url.substr(0, 2) === './' || url.substr(0, 3) === '../') {\r\n\t\t\treturn baseURL + url;\r\n\t\t}\r\n\t\treturn url;\r\n\t}\r\n\r\n\r\n\thttpVueLoader.load = function(url, name) {\r\n\r\n\t\treturn function() {\r\n\r\n\t\t\treturn new Component(name).load(url)\r\n\t\t\t.then(function(component) {\r\n\r\n\t\t\t\treturn component.normalize();\r\n\t\t\t})\r\n\t\t\t.then(function(component) {\r\n\r\n\t\t\t\treturn component.compile();\r\n\t\t\t})\r\n\t\t\t.then(function(component) {\r\n\r\n\t\t\t\tvar exports = component.script !== null ? component.script.module.exports : {};\r\n\r\n\t\t\t\tif ( component.template !== null )\r\n\t\t\t\t\texports.template = component.template.getContent();\r\n\r\n\t\t\t\tif ( exports.name === undefined )\r\n\t\t\t\t\tif ( component.name !== undefined )\r\n\t\t\t\t\t\texports.name = component.name;\r\n\r\n\t\t\t\texports._baseURI = component.baseURI;\r\n\r\n\t\t\t\treturn exports;\r\n\t\t\t});\r\n\t\t};\r\n\t};\r\n\r\n\r\n\thttpVueLoader.register = function(Vue, url) {\r\n\r\n\t\tvar comp = parseComponentURL(url);\r\n\t\tVue.component(comp.name, httpVueLoader.load(comp.url));\r\n\t};\r\n\r\n\thttpVueLoader.install = function(Vue) {\r\n\r\n\t\tVue.mixin({\r\n\r\n\t\t\tbeforeCreate: function () {\r\n\r\n\t\t\t\tvar components = this.$options.components;\r\n\r\n\t\t\t\tfor ( var componentName in components ) {\r\n\r\n\t\t\t\t\tif ( typeof(components[componentName]) === 'string' && components[componentName].substr(0, 4) === 'url:' ) {\r\n\r\n\t\t\t\t\t\tvar comp = parseComponentURL(components[componentName].substr(4));\r\n\r\n\t\t\t\t\t\tvar componentURL = ('_baseURI' in this.$options) ? resolveURL(this.$options._baseURI, comp.url) : comp.url;\r\n\r\n\t\t\t\t\t\tif ( isNaN(componentName) )\r\n\t\t\t\t\t\t\tcomponents[componentName] = httpVueLoader.load(componentURL, componentName);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tcomponents[componentName] = Vue.component(comp.name, httpVueLoader.load(componentURL, comp.name));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thttpVueLoader.require = function(moduleName) {\r\n\r\n\t\treturn window[moduleName];\r\n\t};\r\n\r\n\thttpVueLoader.httpRequest = function(url) {\r\n\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\r\n\t\t\tvar xhr = new XMLHttpRequest();\r\n            \t\txhr.responseType = 'text';\r\n\t\t\txhr.open('GET', url);\r\n\r\n\t\t\txhr.onreadystatechange = function() {\r\n\r\n\t\t\t\tif ( xhr.readyState === 4 ) {\r\n\r\n\t\t\t\t\tif ( xhr.status >= 200 && xhr.status < 300 )\r\n\t\t\t\t\t\tresolve(xhr.responseText);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treject(xhr.status);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\txhr.send(null);\r\n\t\t});\r\n\t};\r\n\r\n\thttpVueLoader.langProcessor = {\r\n\t\thtml: identity,\r\n\t\tjs: identity,\r\n\t\tcss: identity\r\n\t};\r\n\r\n\thttpVueLoader.scriptExportsHandler = identity;\r\n\r\n\tfunction httpVueLoader(url, name) {\r\n\r\n\t\tvar comp = parseComponentURL(url);\r\n\t\treturn httpVueLoader.load(comp.url, name);\r\n\t}\r\n\r\n\treturn httpVueLoader;\r\n});\r\n"],"names":["factory","scopeIndex","StyleContext","component","elt","this","ScriptContext","module","exports","TemplateContext","Component","name","template","script","styles","_scopeId","identity","value","parseComponentURL","url","comp","match","undefined","resolveURL","baseURL","substr","httpVueLoader","load","prototype","withBase","callback","tmpBaseElt","baseURI","document","createElement","href","headElt","getHead","insertBefore","firstChild","call","removeChild","scopeStyles","styleElt","scopeName","process","sheet","rules","cssRules","i","length","rule","type","scopedSelectors","selectorText","split","forEach","sel","push","segments","scopedRule","join","cssText","deleteRule","insertRule","ex","DOMException","code","INVALID_ACCESS_ERR","disabled","addEventListener","onStyleLoaded","removeEventListener","setTimeout","compile","hasTemplate","scoped","hasAttribute","removeAttribute","appendChild","getScopeId","Promise","resolve","getContent","textContent","setContent","content","childModuleRequire","childURL","require","bind","childLoader","childName","Function","reject","vueFileData","responseText","replace","lineNumber","indexOf","message","then","scriptExportsHandler","innerHTML","getRootElt","tplElt","firstElementChild","nextSibling","nodeType","Node","ELEMENT_NODE","head","getElementsByTagName","toString","setAttribute","componentURL","httpRequest","lastIndexOf","doc","implementation","createHTMLDocument","body","it","nodeName","_normalizeSection","eltCx","getAttribute","lang","langProcessor","toLowerCase","normalize","all","Array","concat","map","style","_baseURI","register","Vue","install","mixin","beforeCreate","components","$options","componentName","isNaN","moduleName","window","xhr","XMLHttpRequest","responseType","open","onreadystatechange","readyState","status","send","html","js","css"],"mappings":"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"}